package org.eclipse.jetty.testsite;

import java.io.*;
import java.util.Base64;
import java.nio.charset.StandardCharsets;

public class ConvertBase64ToString {

    private final String inputString;

    private ConvertBase64ToString(String inputString) {
        this.inputString = inputString;
    }

    private String encodeDataUsingBASE64() {
        return Base64.getEncoder().encodeToString(inputString.getBytes(StandardCharsets.UTF_8));
    }

    private String decodeDataUsingBASE64() {
        byte[] valueDecoded = Base64.getDecoder().decode(inputString);
        return new String(valueDecoded);
    }


    private BufferedWriter writeFile() throws IOException {
        BufferedWriter writer = new BufferedWriter(new FileWriter("payment_callback.txt"));
        writer.write(inputString);
        writer.close();
        return writer;
    }

    private void readFile() throws IOException {

    }

    public static void main(String[] args) throws IOException {
        //String receipts = "ewoJInNpZ25hdHVyZSIgPSAiQXk3SEMrWmVxWGI5ZVRXK3ZmZTMzR1JrQ1JVdlNLWEFhVTNERjkrRmtHcWtpN2VpVlR1MnNPNG9WVmc1QjJnYyszcUpsWFNHM2lxcWhRbkl1aHMrR0k0bjJDcnlWWHRhM2R5LzMwYjhTNXl5c1JndDJSRllQcGxtZUlHSmllYUgyYkQ2RHdaTEF5VWhleXlNaGhhOVhQR0VJWGh4N1ByOHQ0alR1NGlIbTI3TG9hVTI4ZjZ2cnluTkdWSk1SZCtKQ2hocmRpN1dHWmJGZnlBVXZsV0VOMUpnZzNucHVmR0hCS0gwd1FDeDM0aVBCOXV5ZVJMWGdsNUE3ODBZUnRXS0lUZEd4T25FWXVnUEs2S0h4YXRLdkZRbTlIWTh6MUxHdmJXZklMT0haUkhiS201NGxmV0lndFF4bW5PM1VReENLaXUyalpvQlVHRHdhS1hkeXpGY3VKb0FBQVdBTUlJRmZEQ0NCR1NnQXdJQkFnSUlEdXRYaCtlZUNZMHdEUVlKS29aSWh2Y05BUUVGQlFBd2daWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFLREFwQmNIQnNaU0JKYm1NdU1Td3dLZ1lEVlFRTERDTkJjSEJzWlNCWGIzSnNaSGRwWkdVZ1JHVjJaV3h2Y0dWeUlGSmxiR0YwYVc5dWN6RkVNRUlHQTFVRUF3dzdRWEJ3YkdVZ1YyOXliR1IzYVdSbElFUmxkbVZzYjNCbGNpQlNaV3hoZEdsdmJuTWdRMlZ5ZEdsbWFXTmhkR2x2YmlCQmRYUm9iM0pwZEhrd0hoY05NVFV4TVRFek1ESXhOVEE1V2hjTk1qTXdNakEzTWpFME9EUTNXakNCaVRFM01EVUdBMVVFQXd3dVRXRmpJRUZ3Y0NCVGRHOXlaU0JoYm1RZ2FWUjFibVZ6SUZOMGIzSmxJRkpsWTJWcGNIUWdVMmxuYm1sdVp6RXNNQ29HQTFVRUN3d2pRWEJ3YkdVZ1YyOXliR1IzYVdSbElFUmxkbVZzYjNCbGNpQlNaV3hoZEdsdmJuTXhFekFSQmdOVkJBb01Da0Z3Y0d4bElFbHVZeTR4Q3pBSkJnTlZCQVlUQWxWVE1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBcGMrQi9TV2lnVnZXaCswajJqTWNqdUlqd0tYRUpzczl4cC9zU2cxVmh2K2tBdGVYeWpsVWJYMS9zbFFZbmNRc1VuR09aSHVDem9tNlNkWUk1YlNJY2M4L1cwWXV4c1FkdUFPcFdLSUVQaUY0MWR1MzBJNFNqWU5NV3lwb041UEM4cjBleE5LaERFcFlVcXNTNCszZEg1Z1ZrRFV0d3N3U3lvMUlnZmRZZUZScjZJd3hOaDlLQmd4SFZQTTNrTGl5a29sOVg2U0ZTdUhBbk9DNnBMdUNsMlAwSzVQQi9UNXZ5c0gxUEttUFVockFKUXAyRHQ3K21mNy93bXYxVzE2c2MxRkpDRmFKekVPUXpJNkJBdENnbDdaY3NhRnBhWWVRRUdnbUpqbTRIUkJ6c0FwZHhYUFEzM1k3MkMzWmlCN2o3QWZQNG83UTAvb21WWUh2NGdOSkl3SURBUUFCbzRJQjF6Q0NBZE13UHdZSUt3WUJCUVVIQVFFRU16QXhNQzhHQ0NzR0FRVUZCekFCaGlOb2RIUndPaTh2YjJOemNDNWhjSEJzWlM1amIyMHZiMk56Y0RBekxYZDNaSEl3TkRBZEJnTlZIUTRFRmdRVWthU2MvTVIydDUrZ2l2Uk45WTgyWGUwckJJVXdEQVlEVlIwVEFRSC9CQUl3QURBZkJnTlZIU01FR0RBV2dCU0lKeGNKcWJZWVlJdnM2N3IyUjFuRlVsU2p0ekNDQVI0R0ExVWRJQVNDQVJVd2dnRVJNSUlCRFFZS0tvWklodmRqWkFVR0FUQ0IvakNCd3dZSUt3WUJCUVVIQWdJd2diWU1nYk5TWld4cFlXNWpaU0J2YmlCMGFHbHpJR05sY25ScFptbGpZWFJsSUdKNUlHRnVlU0J3WVhKMGVTQmhjM04xYldWeklHRmpZMlZ3ZEdGdVkyVWdiMllnZEdobElIUm9aVzRnWVhCd2JHbGpZV0pzWlNCemRHRnVaR0Z5WkNCMFpYSnRjeUJoYm1RZ1kyOXVaR2wwYVc5dWN5QnZaaUIxYzJVc0lHTmxjblJwWm1sallYUmxJSEJ2YkdsamVTQmhibVFnWTJWeWRHbG1hV05oZEdsdmJpQndjbUZqZEdsalpTQnpkR0YwWlcxbGJuUnpMakEyQmdnckJnRUZCUWNDQVJZcWFIUjBjRG92TDNkM2R5NWhjSEJzWlM1amIyMHZZMlZ5ZEdsbWFXTmhkR1ZoZFhSb2IzSnBkSGt2TUE0R0ExVWREd0VCL3dRRUF3SUhnREFRQmdvcWhraUc5Mk5rQmdzQkJBSUZBREFOQmdrcWhraUc5dzBCQVFVRkFBT0NBUUVBRGFZYjB5NDk0MXNyQjI1Q2xtelQ2SXhETUlKZjRGelJqYjY5RDcwYS9DV1MyNHlGdzRCWjMrUGkxeTRGRkt3TjI3YTQvdncxTG56THJSZHJqbjhmNUhlNXNXZVZ0Qk5lcGhtR2R2aGFJSlhuWTR3UGMvem83Y1lmcnBuNFpVaGNvT0FvT3NBUU55MjVvQVE1SDNPNXlBWDk4dDUvR2lvcWJpc0IvS0FnWE5ucmZTZW1NL2oxbU9DK1JOdXhUR2Y4YmdwUHllSUdxTktYODZlT2ExR2lXb1IxWmRFV0JHTGp3Vi8xQ0tuUGFObVNBTW5CakxQNGpRQmt1bGhnd0h5dmozWEthYmxiS3RZZGFHNllRdlZNcHpjWm04dzdISG9aUS9PamJiOUlZQVlNTnBJcjdONFl0UkhhTFNQUWp2eWdhWndYRzU2QWV6bEhSVEJoTDhjVHFBPT0iOwoJInB1cmNoYXNlLWluZm8iID0gImV3b0pJbTl5YVdkcGJtRnNMWEIxY21Ob1lYTmxMV1JoZEdVdGNITjBJaUE5SUNJeU1ERTRMVEF6TFRFMElEQXdPakkxT2pRNUlFRnRaWEpwWTJFdlRHOXpYMEZ1WjJWc1pYTWlPd29KSW1sekxXbHVMV2x1ZEhKdkxXOW1abVZ5TFhCbGNtbHZaQ0lnUFNBaVptRnNjMlVpT3dvSkluQjFjbU5vWVhObExXUmhkR1V0YlhNaUlEMGdJakUxTXpFek1UUTFNVGM1T0RraU93b0pJblZ1YVhGMVpTMXBaR1Z1ZEdsbWFXVnlJaUE5SUNKa1ltWmpZalJrWkRjNFlqTTBObUl6T0RNNVpqaGxNek15TVRrNU5EUTJOMkZtWVdZMk5XVmtJanNLQ1NKdmNtbG5hVzVoYkMxMGNtRnVjMkZqZEdsdmJpMXBaQ0lnUFNBaU1UQXdNREF3TURNNE1qY3hOREkxTlNJN0Nna2laWGh3YVhKbGN5MWtZWFJsSWlBOUlDSXhOVE14TXpFME9ERTNPVGc1SWpzS0NTSjBjbUZ1YzJGamRHbHZiaTFwWkNJZ1BTQWlNVEF3TURBd01EUXhOalUxTVRrNE15STdDZ2tpY1hWaGJuUnBkSGtpSUQwZ0lqRWlPd29KSW5kbFlpMXZjbVJsY2kxc2FXNWxMV2wwWlcwdGFXUWlJRDBnSWpFd01EQXdNREF3TXprME1Ua3lNRE1pT3dvSkltOXlhV2RwYm1Gc0xYQjFjbU5vWVhObExXUmhkR1V0YlhNaUlEMGdJakUxTWpFd01USXpORGt3TURBaU93b0pJblZ1YVhGMVpTMTJaVzVrYjNJdGFXUmxiblJwWm1sbGNpSWdQU0FpTWpnelJUTTNPRVV0TlRoRU1TMDBOamN5TFRsRE9FVXRRalkwUlVaRE9VSkZSa1l4SWpzS0NTSmxlSEJwY21WekxXUmhkR1V0Wm05eWJXRjBkR1ZrTFhCemRDSWdQU0FpTWpBeE9DMHdOeTB4TVNBd05qb3hNem96TnlCQmJXVnlhV05oTDB4dmMxOUJibWRsYkdWeklqc0tDU0pwZEdWdExXbGtJaUE5SUNJM01UVXpPVFkwTVRFaU93b0pJbVY0Y0dseVpYTXRaR0YwWlMxbWIzSnRZWFIwWldRaUlEMGdJakl3TVRndE1EY3RNVEVnTVRNNk1UTTZNemNnUlhSakwwZE5WQ0k3Q2draWIzSnBaMmx1WVd3dGNIVnlZMmhoYzJVdFpHRjBaU0lnUFNBaU1qQXhPQzB3TXkweE5DQXdOem95TlRvME9TQkZkR012UjAxVUlqc0tDU0p3Y205a2RXTjBMV2xrSWlBOUlDSjJhWEF1TVcwaU93b0pJbkIxY21Ob1lYTmxMV1JoZEdVaUlEMGdJakl3TVRndE1EY3RNVEVnTVRNNk1EZzZNemNnUlhSakwwZE5WQ0k3Q2draWFYTXRkSEpwWVd3dGNHVnlhVzlrSWlBOUlDSm1ZV3h6WlNJN0Nna2ljSFZ5WTJoaGMyVXRaR0YwWlMxd2MzUWlJRDBnSWpJd01UZ3RNRGN0TVRFZ01EWTZNRGc2TXpjZ1FXMWxjbWxqWVM5TWIzTmZRVzVuWld4bGN5STdDZ2tpWW1sa0lpQTlJQ0p2Y21jdWMydGhibmR2Y21RaU93b0pJbUoyY25NaUlEMGdJalU0SWpzS2ZRPT0iOwoJImVudmlyb25tZW50IiA9ICJTYW5kYm94IjsKCSJwb2QiID0gIjEwMCI7Cgkic2lnbmluZy1zdGF0dXMiID0gIjAiOwp9";
        String purchase_info = "ewoJIm9yaWdpbmFsLXB1cmNoYXNlLWRhdGUtcHN0IiA9ICIyMDE4LTAzLTE0IDAwOjI1OjQ5IEFtZXJpY2EvTG9zX0FuZ2VsZXMiOwoJImlzLWluLWludHJvLW9mZmVyLXBlcmlvZCIgPSAiZmFsc2UiOwoJInB1cmNoYXNlLWRhdGUtbXMiID0gIjE1MzEzMTQ1MTc5ODkiOwoJInVuaXF1ZS1pZGVudGlmaWVyIiA9ICJkYmZjYjRkZDc4YjM0NmIzODM5ZjhlMzMyMTk5NDQ2N2FmYWY2NWVkIjsKCSJvcmlnaW5hbC10cmFuc2FjdGlvbi1pZCIgPSAiMTAwMDAwMDM4MjcxNDI1NSI7CgkiZXhwaXJlcy1kYXRlIiA9ICIxNTMxMzE0ODE3OTg5IjsKCSJ0cmFuc2FjdGlvbi1pZCIgPSAiMTAwMDAwMDQxNjU1MTk4MyI7CgkicXVhbnRpdHkiID0gIjEiOwoJIndlYi1vcmRlci1saW5lLWl0ZW0taWQiID0gIjEwMDAwMDAwMzk0MTkyMDMiOwoJIm9yaWdpbmFsLXB1cmNoYXNlLWRhdGUtbXMiID0gIjE1MjEwMTIzNDkwMDAiOwoJInVuaXF1ZS12ZW5kb3ItaWRlbnRpZmllciIgPSAiMjgzRTM3OEUtNThEMS00NjcyLTlDOEUtQjY0RUZDOUJFRkYxIjsKCSJleHBpcmVzLWRhdGUtZm9ybWF0dGVkLXBzdCIgPSAiMjAxOC0wNy0xMSAwNjoxMzozNyBBbWVyaWNhL0xvc19BbmdlbGVzIjsKCSJpdGVtLWlkIiA9ICI3MTUzOTY0MTEiOwoJImV4cGlyZXMtZGF0ZS1mb3JtYXR0ZWQiID0gIjIwMTgtMDctMTEgMTM6MTM6MzcgRXRjL0dNVCI7Cgkib3JpZ2luYWwtcHVyY2hhc2UtZGF0ZSIgPSAiMjAxOC0wMy0xNCAwNzoyNTo0OSBFdGMvR01UIjsKCSJwcm9kdWN0LWlkIiA9ICJ2aXAuMW0iOwoJInB1cmNoYXNlLWRhdGUiID0gIjIwMTgtMDctMTEgMTM6MDg6MzcgRXRjL0dNVCI7CgkiaXMtdHJpYWwtcGVyaW9kIiA9ICJmYWxzZSI7CgkicHVyY2hhc2UtZGF0ZS1wc3QiID0gIjIwMTgtMDctMTEgMDY6MDg6MzcgQW1lcmljYS9Mb3NfQW5nZWxlcyI7CgkiYmlkIiA9ICJvcmcuc2thbndvcmQiOwoJImJ2cnMiID0gIjU4IjsKfQ==";
        //String purchase_info = new ConvertBase64ToString(receipts).decodeDataUsingBASE64();
        String payment_callback = new ConvertBase64ToString(purchase_info).decodeDataUsingBASE64();
        new ConvertBase64ToString(payment_callback).writeFile();
    }
}
